{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\pbuch\\\\Documents\\\\Master\\\\ASE\\\\project thingy\\\\thingy-client-purple\\\\src\\\\components\\\\Settings.js\";\nimport React, { Component } from \"react\";\nimport RangeSlider from \"./RangeSlider\";\nimport axios from \"axios\"; // Notify user about saved settings\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport authHeader from \"./services/authheader\"; // CONSTANTS\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst baseURL = \"http://localhost:8080\";\n\nclass Settings extends Component {\n  constructor() {\n    super();\n\n    this.handleChangeTemp = newValue => {\n      this.setState({\n        minTemp: newValue[0],\n        maxTemp: newValue[1]\n      });\n      console.log(this.state);\n    };\n\n    this.onInputchange = event => {\n      event.preventDefault();\n      console.log(\"event:\", event.target.name);\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n      console.log(\"on input change:\", this.state);\n    };\n\n    this.sendUpdatedSettings = async e => {\n      e.preventDefault();\n      let updated_settings = {\n        minTemp: this.state.minTemp,\n        maxTemp: this.state.maxTemp,\n        breakTime: this.state.set_break_every\n      }; // Send creation of session to backend and get the session_start of the backend\n\n      console.log(\"This data will be sent to the backend: \", updated_settings); // TODO: ASK ALEX TO CREATE A NEW POST for saving the updated settings\n      // await axios.post(baseURL+'/session/', updated_settings, {})\n      //     .then(resp => {\n      //         if (resp.status !== 200) {\n      //             throw new Error(`Request failed: ${resp.status}`);\n      //         }\n      //     })\n      //     .catch(err => {\n      //         console.log(err.response);\n      //     })\n\n      toast.success('You have saved your settings successfully!');\n    };\n\n    this.state = {\n      minTemp: 20,\n      maxTemp: 37,\n      set_break_every: 7\n    };\n  }\n\n  async componentDidMount() {\n    // TODO: ASK ALEX TO GET SESSION SAVED FOR USER\n    // Get all the settings saved for the user\n    await axios.get(baseURL + \"/session/\", {\n      headers: authHeader()\n    }).then(res => {\n      let data = res.data;\n      console.log(\"Settings data from backend:\", data); // this.setState({sessions: data})\n      //\n      // // check if a session is ongoing\n      // if(this.state.sessions.length > 0){\n      //     if (this.state.sessions[this.state.sessions.length-1].session_stopped){\n      //         this.setState({\n      //             session_ongoing: 0,\n      //         })\n      //     }\n      //     else{\n      //         this.setState({\n      //             session_ongoing: 1,\n      //         })\n      //     }\n      // }\n    }); // await axios.get(baseURL+\"/session/\").then((res) =>{\n    //     let data = res.data\n    //     console.log(\"Settings data from backend:\",data)\n    //     this.setState({minTemp: data})\n    // })\n  } // This function will be sent to the child class RangeSlider to get the new changed minmax temperatures which will be saved in the state\n\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n        autoClose: false,\n        limit: 1,\n        position: \"top-center\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Settings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Minimum and Maximum Temperature:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Select the desired interval for your temperature in your room and get alarmed when it gets lower or higher:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            margin: 20\n          },\n          children: /*#__PURE__*/_jsxDEV(RangeSlider, {\n            handleChangeTemp: this.handleChangeTemp\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Break After X Minutes:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"After how many minutes should you be reminded to take a break\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          min: 0,\n          max: 1440 //default = {200}\n          ,\n          placeholder: this.state.set_break_every //\"in minutes\"\n          ,\n          name: \"set_break_every\",\n          onChange: this.onInputchange,\n          value: this.state.set_break_every,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: 40\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.sendUpdatedSettings,\n          children: \"Save Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Settings;","map":{"version":3,"sources":["C:/Users/pbuch/Documents/Master/ASE/project thingy/thingy-client-purple/src/components/Settings.js"],"names":["React","Component","RangeSlider","axios","ToastContainer","toast","authHeader","baseURL","Settings","constructor","handleChangeTemp","newValue","setState","minTemp","maxTemp","console","log","state","onInputchange","event","preventDefault","target","name","value","sendUpdatedSettings","e","updated_settings","breakTime","set_break_every","success","componentDidMount","get","headers","then","res","data","render","display","justifyContent","alignItems","margin"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\";\r\n\r\nimport RangeSlider from \"./RangeSlider\";\r\nimport axios from \"axios\";\r\n\r\n\r\n// Notify user about saved settings\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport authHeader from \"./services/authheader\";\r\n\r\n// CONSTANTS\r\nconst baseURL = \"http://localhost:8080\"\r\n\r\n\r\nclass Settings extends Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            minTemp: 20,\r\n            maxTemp: 37,\r\n            set_break_every: 7,\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        // TODO: ASK ALEX TO GET SESSION SAVED FOR USER\r\n        // Get all the settings saved for the user\r\n        await axios.get(baseURL+\"/session/\",{ headers: authHeader() }).then((res) =>{\r\n            let data = res.data\r\n            console.log(\"Settings data from backend:\",data)\r\n            // this.setState({sessions: data})\r\n            //\r\n            // // check if a session is ongoing\r\n            // if(this.state.sessions.length > 0){\r\n            //     if (this.state.sessions[this.state.sessions.length-1].session_stopped){\r\n            //         this.setState({\r\n            //             session_ongoing: 0,\r\n            //         })\r\n            //     }\r\n            //     else{\r\n            //         this.setState({\r\n            //             session_ongoing: 1,\r\n            //         })\r\n            //     }\r\n            // }\r\n        })\r\n        // await axios.get(baseURL+\"/session/\").then((res) =>{\r\n        //     let data = res.data\r\n        //     console.log(\"Settings data from backend:\",data)\r\n        //     this.setState({minTemp: data})\r\n        // })\r\n    }\r\n\r\n    // This function will be sent to the child class RangeSlider to get the new changed minmax temperatures which will be saved in the state\r\n    handleChangeTemp = (newValue) => {\r\n        this.setState({\r\n            minTemp: newValue[0],\r\n            maxTemp: newValue[1],\r\n        })\r\n        console.log(this.state)\r\n    };\r\n\r\n    // Gets the input of the user for the minutes of the next break\r\n    onInputchange = event => {\r\n        event.preventDefault()\r\n        console.log(\"event:\",event.target.name)\r\n        this.setState({\r\n            [event.target.name]: event.target.value\r\n        });\r\n        console.log(\"on input change:\",this.state)\r\n    }\r\n\r\n    // Send the updated settings to the backend\r\n    sendUpdatedSettings = async (e)=>{\r\n        e.preventDefault()\r\n\r\n        let updated_settings = {\r\n            minTemp: this.state.minTemp,\r\n            maxTemp: this.state.maxTemp,\r\n            breakTime: this.state.set_break_every,\r\n        }\r\n\r\n        // Send creation of session to backend and get the session_start of the backend\r\n        console.log(\"This data will be sent to the backend: \", updated_settings)\r\n\r\n        // TODO: ASK ALEX TO CREATE A NEW POST for saving the updated settings\r\n        // await axios.post(baseURL+'/session/', updated_settings, {})\r\n        //     .then(resp => {\r\n        //         if (resp.status !== 200) {\r\n        //             throw new Error(`Request failed: ${resp.status}`);\r\n        //         }\r\n        //     })\r\n        //     .catch(err => {\r\n        //         console.log(err.response);\r\n        //     })\r\n        toast.success('You have saved your settings successfully!');\r\n    }\r\n\r\n    render()\r\n    {\r\n        return (\r\n            <div>\r\n                <ToastContainer autoClose={false} limit={1} position=\"top-center\"/>\r\n                <h1>Settings</h1>\r\n                <h2>Minimum and Maximum Temperature:</h2>\r\n                <div >\r\n                    <p>Select the desired interval for your temperature in your room and get alarmed when it gets lower or higher:</p>\r\n                    <div style={{\r\n                        display: \"flex\",\r\n                        justifyContent: \"center\",\r\n                        alignItems: \"center\",\r\n                        margin: 20 }}>\r\n                        <RangeSlider\r\n                            handleChangeTemp = {this.handleChangeTemp}\r\n                        >\r\n                        </RangeSlider>\r\n                    </div>\r\n                    <h2>Break After X Minutes:</h2>\r\n                    <p>After how many minutes should you be reminded to take a break</p>\r\n                    <input\r\n                        type=\"number\"\r\n                        min={0}\r\n                        max={1440}\r\n                        //default = {200}\r\n                        placeholder= {this.state.set_break_every}//\"in minutes\"\r\n                        name=\"set_break_every\"\r\n                        onChange={this.onInputchange}\r\n                        value={this.state.set_break_every}\r\n                        required\r\n                    />\r\n                </div>\r\n               <div style={{\r\n                   margin: 40 }}>\r\n                   <button onClick={this.sendUpdatedSettings}>Save Settings</button>\r\n               </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Settings;"]},"metadata":{},"sourceType":"module"}